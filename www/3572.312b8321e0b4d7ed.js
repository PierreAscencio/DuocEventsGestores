"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3572],{3572:($,v,s)=>{s.r(v),s.d(v,{CrearusuarioPageModule:()=>P});var f=s(177),n=s(4341),l=s(9465),g=s(8986),p=s(467),r=s(3953),h=s(4796);function _(e,i){1&e&&(r.j41(0,"div",16),r.EFF(1," *Nombre es Obligatorio "),r.k0s())}function F(e,i){1&e&&(r.j41(0,"div",16),r.EFF(1," *Nombre debe contener minimo 3 caracteres "),r.k0s())}function b(e,i){if(1&e&&(r.j41(0,"div",16),r.DNE(1,_,2,0,"div",10)(2,F,2,0,"div",10),r.k0s()),2&e){let a,o;const t=r.XpG();r.R7$(),r.Y8G("ngIf",null==(a=t.registroForm.get("nombre"))?null:a.hasError("required")),r.R7$(),r.Y8G("ngIf",null==(o=t.registroForm.get("nombre"))?null:o.hasError("minlength"))}}function k(e,i){1&e&&(r.j41(0,"div",16),r.EFF(1," *email es Obligatorio "),r.k0s())}function U(e,i){1&e&&(r.j41(0,"div",16),r.EFF(1," *Formato no valido "),r.k0s())}function C(e,i){if(1&e&&(r.j41(0,"div",16),r.DNE(1,k,2,0,"div",10)(2,U,2,0,"div",10),r.k0s()),2&e){let a,o;const t=r.XpG();r.R7$(),r.Y8G("ngIf",null==(a=t.registroForm.get("email"))?null:a.hasError("required")),r.R7$(),r.Y8G("ngIf",null==(o=t.registroForm.get("email"))?null:o.hasError("email"))}}function E(e,i){1&e&&(r.j41(0,"div",16),r.EFF(1," *Password es obligatorio "),r.k0s())}function G(e,i){1&e&&(r.j41(0,"div",16),r.EFF(1," *Password debe tener m\xednimo 8 caracteres, una letra y un n\xfamero "),r.k0s())}function y(e,i){if(1&e&&(r.j41(0,"div",16),r.DNE(1,E,2,0,"div",10)(2,G,2,0,"div",10),r.k0s()),2&e){let a,o;const t=r.XpG();r.R7$(),r.Y8G("ngIf",null==(a=t.registroForm.get("password"))?null:a.hasError("required")),r.R7$(),r.Y8G("ngIf",null==(o=t.registroForm.get("password"))?null:o.hasError("pattern"))}}function j(e,i){1&e&&(r.j41(0,"div",16),r.EFF(1," *Rut es Obligatorio "),r.k0s())}function M(e,i){1&e&&(r.j41(0,"div",16),r.EFF(1," *Formato no valido "),r.k0s())}function x(e,i){if(1&e&&(r.j41(0,"div",16),r.DNE(1,j,2,0,"div",10)(2,M,2,0,"div",10),r.k0s()),2&e){let a,o;const t=r.XpG();r.R7$(),r.Y8G("ngIf",null==(a=t.registroForm.get("rut"))?null:a.hasError("required")),r.R7$(),r.Y8G("ngIf",null==(o=t.registroForm.get("rut"))?null:o.hasError("rut"))}}const I=[{path:"",component:(()=>{var e;class i{constructor(o,t,u,d){this.authservice=o,this.alertcontroller=t,this.router=u,this.fBuilder=d,this.nuevoAlumno={idUsuario:"",nombre:"",rut:"",password:"",imagen:"",isactive:!1,email:""},this.registroForm=this.fBuilder.group({nombre:new n.MJ("",[n.k0.required,n.k0.minLength(3)]),rut:new n.MJ("",[n.k0.required]),password:new n.MJ("",[n.k0.required,n.k0.pattern(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/)]),email:new n.MJ("",[n.k0.required,n.k0.email])})}ngOnInit(){}crearUsuario(){this.registroForm.valid&&this.authservice.GetAlumnoByrut(this.registroForm.value.nombre).subscribe(o=>{this.userdata=o,this.userdata.length>0?(this.registroForm.reset(),this.errorDuplicidad()):(this.nuevoAlumno.nombre=this.registroForm.value.nombre,this.nuevoAlumno.rut=this.registroForm.value.rut,this.nuevoAlumno.email=this.registroForm.value.email,this.nuevoAlumno.password=this.registroForm.value.password,this.nuevoAlumno.imagen=this.registroForm.value.imagen,this.nuevoAlumno.isactive=!0,this.authservice.PostAlumno(this.nuevoAlumno).subscribe(),this.registroForm.reset(),this.mostrarMensaje(),this.router.navigateByUrl("/login"))})}mostrarMensaje(){var o=this;return(0,p.A)(function*(){(yield o.alertcontroller.create({header:"Usuario creado",message:"Bienvenid@! "+o.nuevoAlumno.nombre,buttons:["OK"]})).present()})()}errorDuplicidad(){var o=this;return(0,p.A)(function*(){(yield o.alertcontroller.create({header:"Error..",message:"Usted "+o.nuevoAlumno.nombre+" ya esta registrado:D",buttons:["OK"]})).present()})()}}return(e=i).\u0275fac=function(o){return new(o||e)(r.rXU(h.u),r.rXU(l.hG),r.rXU(g.Ix),r.rXU(n.ok))},e.\u0275cmp=r.VBU({type:e,selectors:[["app-crearusuario"]],decls:28,vars:8,consts:[[3,"translucent"],["slot","start"],["defaultHref","/login","text","","color","dark"],[1,"titulo"],[3,"fullscreen"],[3,"formGroup"],[1,"login-container"],[1,"login-box"],["position","floating"],["type","text","placeholder","Ingrese Nombre...","formControlName","nombre"],["id","alerta",4,"ngIf"],["type","email","placeholder","Ingrese email...","formControlName","email"],["type","password","formControlName","password","placeholder","Contrase\xf1a...."],["type","text","placeholder","Ingrese Rut...","formControlName","rut"],[2,"text-align","center","margin-top","30px"],["shape","round",1,"boton",3,"click","disabled"],["id","alerta"]],template:function(o,t){if(1&o&&(r.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),r.nrm(3,"ion-back-button",2),r.k0s(),r.j41(4,"ion-title",3),r.EFF(5,"EventDuoc"),r.k0s()()(),r.j41(6,"ion-content",4)(7,"form",5)(8,"div",6)(9,"div",7)(10,"ion-item"),r.nrm(11,"ion-label",8)(12,"ion-input",9),r.k0s(),r.DNE(13,b,3,2,"div",10),r.j41(14,"ion-item"),r.nrm(15,"ion-label",8)(16,"ion-input",11),r.k0s(),r.DNE(17,C,3,2,"div",10),r.j41(18,"ion-item"),r.nrm(19,"ion-input",12),r.k0s(),r.DNE(20,y,3,2,"div",10),r.j41(21,"ion-item"),r.nrm(22,"ion-label",8)(23,"ion-input",13),r.k0s(),r.DNE(24,x,3,2,"div",10),r.j41(25,"div",14)(26,"ion-button",15),r.bIt("click",function(){return t.crearUsuario()}),r.EFF(27," Crear Usuario "),r.k0s()()()()()()),2&o){let u,d,m,c;r.Y8G("translucent",!0),r.R7$(6),r.Y8G("fullscreen",!0),r.R7$(),r.Y8G("formGroup",t.registroForm),r.R7$(6),r.Y8G("ngIf",(null==(u=t.registroForm.get("nombre"))?null:u.invalid)&&((null==(u=t.registroForm.get("nombre"))?null:u.dirty)||(null==(u=t.registroForm.get("nombre"))?null:u.touched))),r.R7$(4),r.Y8G("ngIf",(null==(d=t.registroForm.get("email"))?null:d.invalid)&&((null==(d=t.registroForm.get("email"))?null:d.dirty)||(null==(d=t.registroForm.get("email"))?null:d.touched))),r.R7$(3),r.Y8G("ngIf",(null==(m=t.registroForm.get("password"))?null:m.invalid)&&((null==(m=t.registroForm.get("password"))?null:m.dirty)||(null==(m=t.registroForm.get("password"))?null:m.touched))),r.R7$(4),r.Y8G("ngIf",(null==(c=t.registroForm.get("rut"))?null:c.invalid)&&((null==(c=t.registroForm.get("rut"))?null:c.dirty)||(null==(c=t.registroForm.get("rut"))?null:c.touched))),r.R7$(2),r.Y8G("disabled",!t.registroForm.valid)}},dependencies:[f.bT,n.qT,n.BC,n.cb,l.Jm,l.QW,l.W9,l.eU,l.$w,l.uz,l.he,l.BC,l.ai,l.Gw,l.el,n.j4,n.JD],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: black}.login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.login-box[_ngcontent-%COMP%]{text-align:center;color:#0004ff;margin:20px;border-radius:10px;background:#333;padding:20px;width:100%;max-width:400px}.boton[_ngcontent-%COMP%]{--background: #00ffd5;--background-hover: #9ce0be;--background-activated: #dee4ab;--background-focused: #c8de05;--color: rgb(0, 0, 0);--border-radius: 15px;--border-color: #000;--border-style: solid;margin-top:10px}#botongod[_ngcontent-%COMP%]{margin-top:25px}#titulo[_ngcontent-%COMP%]{text-align:center;color:#0004ff}.titulo[_ngcontent-%COMP%]{text-align:center;font-family:titulo,sans-serif;--color: #0004ff}.texto[_ngcontent-%COMP%]{font-family:texto,serif}']}),i})()}];let R=(()=>{var e;class i{}return(e=i).\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.$C({type:e}),e.\u0275inj=r.G2t({imports:[g.iI.forChild(I),g.iI]}),i})(),P=(()=>{var e;class i{}return(e=i).\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.$C({type:e}),e.\u0275inj=r.G2t({imports:[f.MD,n.YN,l.bv,n.X1,R]}),i})()}}]);